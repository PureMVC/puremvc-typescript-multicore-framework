if(typeof define==="function"){define("puremvc",[],function(){var b;(function(d){var c=(function(){function e(f,g){this.notify=null;this.context=null;this.setNotifyMethod(f);this.setNotifyContext(g)}e.prototype.getNotifyMethod=function(){return this.notify};e.prototype.setNotifyMethod=function(f){this.notify=f};e.prototype.getNotifyContext=function(){return this.context};e.prototype.setNotifyContext=function(f){this.context=f};e.prototype.notifyObserver=function(f){this.getNotifyMethod().call(this.getNotifyContext(),f)
};e.prototype.compareNotifyContext=function(f){return f===this.context};return e})();d.Observer=c})(b||(b={}));var b;(function(c){var d=(function(){function g(h){this.mediatorMap=null;this.observerMap=null;this.multitonKey=null;if(g.instanceMap[h]){throw Error(g.MULTITON_MSG)}g.instanceMap[h]=this;this.multitonKey=h;this.mediatorMap={};this.observerMap={};this.initializeView()}g.prototype.initializeView=function(){};g.prototype.registerObserver=function(i,h){var j=this.observerMap[i];if(j){j.push(h)
}else{this.observerMap[i]=[h]}};g.prototype.removeObserver=function(l,k){var m=this.observerMap[l];var j=m.length;while(j--){var h=m[j];if(h.compareNotifyContext(k)){m.splice(j,1);break}}if(m.length==0){delete this.observerMap[l]}};g.prototype.notifyObservers=function(m){var l=m.getName();var o=this.observerMap[l];if(o){var n=o.slice(0);var h=n.length;for(var k=0;k<h;k++){var j=n[k];j.notifyObserver(m)}}};g.prototype.registerMediator=function(m){var k=m.getMediatorName();if(this.mediatorMap[k]){return
}m.initializeNotifier(this.multitonKey);this.mediatorMap[k]=m;var n=m.listNotificationInterests();var h=n.length;if(h>0){var j=new c.Observer(m.handleNotification,m);for(var l=0;l<h;l++){this.registerObserver(n[l],j)}}m.onRegister()};g.prototype.retrieveMediator=function(h){return this.mediatorMap[h]||null};g.prototype.removeMediator=function(h){var k=this.mediatorMap[h];if(!k){return null}var l=k.listNotificationInterests();var j=l.length;while(j--){this.removeObserver(l[j],k)}delete this.mediatorMap[h];
k.onRemove();return k};g.prototype.hasMediator=function(h){return this.mediatorMap[h]!=null};g.MULTITON_MSG="View instance for this multiton key already constructed!";g.instanceMap={};g.getInstance=function f(h){if(!g.instanceMap[h]){g.instanceMap[h]=new g(h)}return g.instanceMap[h]};g.removeView=function e(h){delete g.instanceMap[h]};return g})();c.View=d})(b||(b={}));var b;(function(c){var d=(function(){function g(h){this.view=null;this.commandMap=null;this.multitonKey=null;if(g.instanceMap[h]){throw Error(g.MULTITON_MSG)
}g.instanceMap[h]=this;this.multitonKey=h;this.commandMap={};this.initializeController()}g.prototype.initializeController=function(){this.view=c.View.getInstance(this.multitonKey)};g.prototype.executeCommand=function(h){var j=this.commandMap[h.getName()];if(j){var i=new j();i.initializeNotifier(this.multitonKey);i.execute(h)}};g.prototype.registerCommand=function(h,i){if(!this.commandMap[h]){this.view.registerObserver(h,new c.Observer(this.executeCommand,this))}this.commandMap[h]=i};g.prototype.hasCommand=function(h){return this.commandMap[h]!=null
};g.prototype.removeCommand=function(h){if(this.hasCommand(h)){this.view.removeObserver(h,this);delete this.commandMap[h]}};g.MULTITON_MSG="Controller instance for this multiton key already constructed!";g.instanceMap={};g.getInstance=function f(h){if(!g.instanceMap[h]){g.instanceMap[h]=new g(h)}return g.instanceMap[h]};g.removeController=function e(h){delete g.instanceMap[h]};return g})();c.Controller=d})(b||(b={}));var b;(function(c){var d=(function(){function g(h){this.proxyMap=null;this.multitonKey=null;
if(g.instanceMap[h]){throw Error(g.MULTITON_MSG)}g.instanceMap[h]=this;this.multitonKey=h;this.proxyMap={};this.initializeModel()}g.prototype.initializeModel=function(){};g.prototype.registerProxy=function(h){h.initializeNotifier(this.multitonKey);this.proxyMap[h.getProxyName()]=h;h.onRegister()};g.prototype.removeProxy=function(i){var h=this.proxyMap[i];if(h){delete this.proxyMap[i];h.onRemove()}return h};g.prototype.retrieveProxy=function(h){return this.proxyMap[h]||null};g.prototype.hasProxy=function(h){return this.proxyMap[h]!=null
};g.MULTITON_MSG="Model instance for this multiton key already constructed!";g.instanceMap={};g.getInstance=function f(h){if(!g.instanceMap[h]){g.instanceMap[h]=new g(h)}return g.instanceMap[h]};g.removeModel=function e(h){delete g.instanceMap[h]};return g})();c.Model=d})(b||(b={}));var b;(function(c){var d=(function(){function e(g,f,h){if(typeof f==="undefined"){f=null}if(typeof h==="undefined"){h=null}this.name=null;this.body=null;this.type=null;this.name=g;this.body=f;this.type=h}e.prototype.getName=function(){return this.name
};e.prototype.setBody=function(f){this.body=f};e.prototype.getBody=function(){return this.body};e.prototype.setType=function(f){this.type=f};e.prototype.getType=function(){return this.type};e.prototype.toString=function(){var f="Notification Name: "+this.getName();f+="\nBody:"+((this.getBody()==null)?"null":this.getBody().toString());f+="\nType:"+((this.getType()==null)?"null":this.getType());return f};return e})();c.Notification=d})(b||(b={}));var b;(function(d){var c=(function(){function e(i){this.model=null;
this.view=null;this.controller=null;this.multitonKey=null;if(e.instanceMap[i]){throw Error(e.MULTITON_MSG)}this.initializeNotifier(i);e.instanceMap[i]=this;this.initializeFacade()}e.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};e.prototype.initializeModel=function(){if(!this.model){this.model=d.Model.getInstance(this.multitonKey)}};e.prototype.initializeController=function(){if(!this.controller){this.controller=d.Controller.getInstance(this.multitonKey)
}};e.prototype.initializeView=function(){if(!this.view){this.view=d.View.getInstance(this.multitonKey)}};e.prototype.registerCommand=function(i,j){this.controller.registerCommand(i,j)};e.prototype.removeCommand=function(i){this.controller.removeCommand(i)};e.prototype.hasCommand=function(i){return this.controller.hasCommand(i)};e.prototype.registerProxy=function(i){this.model.registerProxy(i)};e.prototype.retrieveProxy=function(i){return this.model.retrieveProxy(i)};e.prototype.removeProxy=function(j){var i;
if(this.model){i=this.model.removeProxy(j)}return i};e.prototype.hasProxy=function(i){return this.model.hasProxy(i)};e.prototype.registerMediator=function(i){if(this.view){this.view.registerMediator(i)}};e.prototype.retrieveMediator=function(i){return this.view.retrieveMediator(i)};e.prototype.removeMediator=function(i){var j;if(this.view){j=this.view.removeMediator(i)}return j};e.prototype.hasMediator=function(i){return this.view.hasMediator(i)};e.prototype.notifyObservers=function(i){if(this.view){this.view.notifyObservers(i)
}};e.prototype.sendNotification=function(j,i,k){if(typeof i==="undefined"){i=null}if(typeof k==="undefined"){k=null}this.notifyObservers(new d.Notification(j,i,k))};e.prototype.initializeNotifier=function(i){this.multitonKey=i};e.MULTITON_MSG="Facade instance for this multiton key already constructed!";e.instanceMap={};e.getInstance=function g(i){if(!e.instanceMap[i]){e.instanceMap[i]=new e(i)}return e.instanceMap[i]};e.hasCore=function h(i){return e.instanceMap[i]?true:false};e.removeCore=function f(i){if(!e.instanceMap[i]){return
}d.Model.removeModel(i);d.View.removeView(i);d.Controller.removeController(i);delete e.instanceMap[i]};return e})();d.Facade=c})(b||(b={}));var b;(function(d){var c=(function(){function e(){this.multitonKey=null}e.prototype.initializeNotifier=function(f){this.multitonKey=f};e.prototype.sendNotification=function(g,f,h){if(typeof f==="undefined"){f=null}if(typeof h==="undefined"){h=null}if(this.facade()){this.facade().sendNotification(g,f,h)}};e.prototype.facade=function(){if(this.multitonKey===null){throw Error(e.MULTITON_MSG)
}return d.Facade.getInstance(this.multitonKey)};e.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";return e})();d.Notifier=c})(b||(b={}));var a=this.__extends||function(f,c){function e(){this.constructor=f}e.prototype=c.prototype;f.prototype=new e()};var b;(function(d){var c=(function(f){a(e,f);function e(){f.call(this);this.subCommands=null;this.subCommands=new Array();this.initializeMacroCommand()}e.prototype.initializeMacroCommand=function(){};e.prototype.addSubCommand=function(g){this.subCommands.push(g)
};e.prototype.execute=function(l){var j=this.subCommands.slice(0);var g=this.subCommands.length;for(var h=0;h<g;h++){var m=j[h];var k=new m();k.initializeNotifier(this.multitonKey);k.execute(l)}this.subCommands.splice(0)};return e})(d.Notifier);d.MacroCommand=c})(b||(b={}));var b;(function(c){var d=(function(e){a(f,e);function f(){e.apply(this,arguments)}f.prototype.execute=function(g){};return f})(c.Notifier);c.SimpleCommand=d})(b||(b={}));var b;(function(c){var d=(function(e){a(f,e);function f(g,h){if(typeof g==="undefined"){g=null
}if(typeof h==="undefined"){h=null}e.call(this);this.mediatorName=null;this.viewComponent=null;this.mediatorName=(g!=null)?g:f.NAME;this.viewComponent=h}f.prototype.getMediatorName=function(){return this.mediatorName};f.prototype.getViewComponent=function(){return this.viewComponent};f.prototype.setViewComponent=function(g){this.viewComponent=g};f.prototype.listNotificationInterests=function(){return new Array()};f.prototype.handleNotification=function(g){};f.prototype.onRegister=function(){};f.prototype.onRemove=function(){};
f.NAME="Mediator";return f})(c.Notifier);c.Mediator=d})(b||(b={}));var b;(function(c){var d=(function(e){a(f,e);function f(h,g){if(typeof h==="undefined"){h=null}if(typeof g==="undefined"){g=null}e.call(this);this.proxyName=null;this.data=null;this.proxyName=(h!=null)?h:f.NAME;if(g!=null){this.setData(g)}}f.prototype.getProxyName=function(){return this.proxyName};f.prototype.setData=function(g){this.data=g};f.prototype.getData=function(){return this.data};f.prototype.onRegister=function(){};f.prototype.onRemove=function(){};
f.NAME="Proxy";return f})(c.Notifier);c.Proxy=d})(b||(b={}));return b})};